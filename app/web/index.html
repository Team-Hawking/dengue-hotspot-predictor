<!DOCTYPE HTML>
<html>
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="http://www.webglearth.com/v2/api.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

    <style>
        #custom-handle {
          width: 3em;
          height: 1.6em;
          top: 50%;
          margin-top: -.8em;
          text-align: center;
          line-height: 1.6em;
        }
    </style>

    <script>
      let globeData = [
        {
          "country": "Bangladesh",
          "lat": 23.684994,
          "lon": 90.356331,
          "cases": {
            "2003": 486,
            "2004": 3934,
            "2005": 1048,
            "2006": 2198,
            "2007": 466,
            "2008": 1181,
            "2009": 474,
            "2010": 409,
            "2011": 1362,
            "2012": 671
          }
        },
        {
          "country": "Bhutan",
          "lat": 27.514162,
          "lon": 90.433601,
          "cases": {
            "2003": 0,
            "2004": 2579,
            "2005": 11,
            "2006": 116,
            "2007": 120,
            "2008": 37,
            "2009": 351,
            "2010": 887,
            "2011": 712,
            "2012": 1101
          }
        },
        {
          "country": "India",
          "lat": 20.593683,
          "lon": 78.962883,
          "cases": {
            "2003": 12754,
            "2004": 4153,
            "2005": 11985,
            "2006": 12317,
            "2007": 5023,
            "2008": 11476,
            "2009": 15535,
            "2010": 28292,
            "2011": 17744,
            "2012": 50222
          }
        },
        {
          "country": "Indonesia",
          "lat": -0.789275,
          "lon": 113.921326,
          "cases": {
            "2003": 51934,
            "2004": 79462,
            "2005": 95279,
            "2006": 106425,
            "2007": 157442,
            "2008": 155607,
            "2009": 156052,
            "2010": 155777,
            "2011": 58065,
            "2012": 74062
          }
        },
        {
          "country": "Maldives",
          "lat": 3.202778,
          "lon": 73.220680,
          "cases": {
            "2003": 38,
            "2004": 742,
            "2005": 1126,
            "2006": 2768,
            "2007": 1680,
            "2008": 1476,
            "2009": 739,
            "2010": 917,
            "2011": 2909,
            "2012": 1083
          }
        },
        {
          "country": "Myanmar",
          "lat": 21.916222,
          "lon": 95.955971,
          "cases": {
            "2003": 7907,
            "2004": 7369,
            "2005": 17454,
            "2006": 11383,
            "2007": 15285,
            "2008": 14480,
            "2009": 24287,
            "2010": 16529,
            "2011": 4738,
            "2012": 6433
          }
        },
        {
          "country": "Nepal",
          "lat": 28.394857,
          "lon": 84.124008,
          "cases": {
            "2003": 0,
            "2004": 0,
            "2005": 0,
            "2006": 25,
            "2007": 3,
            "2008": 6,
            "2009": 26,
            "2010": 917,
            "2011": 79,
            "2012": 183
          }
        },
        {
          "country": "Sri Lanka",
          "lat": 6.931970,
          "lon": 79.857750,
          "cases": {
            "2003": 4749,
            "2004": 15463,
            "2005": 5994,
            "2006": 11980,
            "2007": 7314,
            "2008": 6555,
            "2009": 35010,
            "2010": 34105,
            "2011": 27162,
            "2012": 44456
          }
        },
        {
          "country": "Timor-Leste",
          "lat": -8.874217,
          "lon": 125.727539,
          "cases": {
            "2003": 62767,
            "2004": 38367,
            "2005": 45893,
            "2006": 42456,
            "2007": 62949,
            "2008": 89626,
            "2009": 25194,
            "2010": 116947,
            "2011": 64374,
            "2012": 78063
          }
        },
        {
          "country": "Thailand",
          "lat": -8.874217,
          "lon": 125.727539,
          "cases": {
            "2003": 0,
            "2004": 434,
            "2005": 1128,
            "2006": 162,
            "2007": 227,
            "2008": 108,
            "2009": 175,
            "2010": 745,
            "2011": 358,
            "2012": 930
          }
        }
      ];

      let earth;
      // this should be set dynamically by slider
      let year = '2013';
      function initialize() {
        let options = {atmosphere: true, center: [23.684994, 90.356331], zoom: 2.5};
        earth = new WE.map('earth_div', options);
        WE.tileLayer('http://tileserver.maptiler.com/nasa/{z}/{x}/{y}.jpg', {
          minZoom: 0,
          maxZoom: 5,
          attribution: 'NASA - Dengue Hotspot Predictor'
        }).addTo(earth);

        addMarker();
      }

      function addMarker () {
        globeData.forEach(obj => {
          console.log();
          year = "2003"
          let marker = WE.marker([obj.lat, obj.lon]).addTo(earth);
          let cases = obj.cases[year];
          marker.bindPopup(`<b>${obj.country}</b><br>Cases: ${cases}<br />`, {maxWidth: 150, closeButton: true});
        })
      }
    </script>
    <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
   <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
    $( function() {
      var handle = $( "#custom-handle" );
      $( "#slider" ).slider({
        create: function() {
          handle.text( $( this ).slider( "value" ) );
        },
        slide: function( event, ui ) {
          handle.text( ui.value );
        }
      });
    } );

    </script>

    <link rel="stylesheet" type="text/css" href="./styles/index.css"/>
      <title>Dengue Hotspot Predictor</title>
    </head>
    <body onload="initialize()">
      <div class="">
        <!-- side panel -->
        <div class="side_panel" class="">
          <button type="button" class="btn btn-outline-primary option-btn" onclick="window.location='./statistics.html'">Statistics</button><br>
          <button type="button" class="btn btn-outline-primary option-btn">Regression</button><br>
          <button type="button" class="btn btn-outline-primary option-btn" onclick="window.location='./clustering.html'">Clustering</button><br>
            <button type="button" class="btn btn-outline-primary option-btn">Experiments</button><br>
            <button type="button" class="btn btn-outline-primary option-btn" onclick="window.location='https://github.com/Team-Hawking/dengue-hotspot-predictor#dengue-hotspot-predictor'" >Research</button><br><br><br><br><br><br>

            <button type="button" class="btn btn-outline-info feature-btn">Population</button><br>
            <button type="button" class="btn btn-outline-info feature-btn">Temperature</button><br>
            <button type="button" class="btn btn-outline-info feature-btn" onclick="window.location='./vegetation.html'">Vegetation</button><br>
            <button type="button" class="btn btn-outline-info feature-btn">Precipitation</button><br>
            <button type="button" class="btn btn-outline-info feature-btn">Humidity</button><br>
        </div>

        <div class="earth_box">
          <div id="earth_div"></div>
        </div>

        <div class="feature_box container">
          <br><br>
            <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
              <li class="page-item">
                <a class="page-link" href="#" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <li class="page-item" id="2003"><a class="page-link" href="#">
                2003
              </a></li>
              <li class="page-item" id="2004"><a class="page-link" href="#">2004</a></li>
              <li class="page-item" id="2005"><a class="page-link" href="#">2005</a></li>
              <li class="page-item" id="2006"><a class="page-link" href="#">2006</a></li>
              <li class="page-item" id="2007"><a class="page-link" href="#">2007</a></li>
              <li class="page-item" id="2008"><a class="page-link" href="#">2008</a></li>
              <li class="page-item" id="2009"><a class="page-link" href="#">2009</a></li>
              <li class="page-item" id="2010"><a class="page-link" href="#">2010</a></li>
              <li class="page-item" id="2011"><a class="page-link" href="#">2011</a></li>
              <li class="page-item" id="2012"><a class="page-link" href="#">2012</a></li>
              <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
  </body>

  <!-- <script>
    $(".page-item").click(function(){
      ["#2003", "#2004", "#2005", "#2006", "#2007", "#2008", "#2009", "#2010", "#2011", "#2012"].forEach(obj => {

        if ($(obj).hasClass("active")) {
          console.log($(obj).hasClass("active"));
            $(obj).remove("active");
        }
        $(this).addClass("page-item")

      });
      if($(this).hasClass("page-item active")) {
        $(this).addClass("page-item")
      } else {
        $(this).addClass("page-item active")
      }
    })
  </script> -->
  <!-- bootstrap stuffs -->
  <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</html>
